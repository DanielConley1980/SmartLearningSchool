                    }, 50); // Small delay to trigger transition
                }

                // Update button states
                prevBtn.disabled = index === 0;
                nextBtn.disabled = index === slides.length - 1;

                // Update slide counter
                slideCounter.textContent = `Slide ${index + 1} of ${slides.length}`;
            }

            prevBtn.addEventListener('click', () => {
                if (currentSlide > 0) {
                    currentSlide--;
                    showSlide(currentSlide);
                }
            });

            nextBtn.addEventListener('click', () => {
                if (currentSlide < slides.length - 1) {
                    currentSlide++;
                    showSlide(currentSlide);
                }
            });

            quizForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const answers = {
                    q1: 'c',
                    q2: 'a',
                    q3: 'b'
                };
                let score = 0;
                const formData = new FormData(quizForm);
                for (const [question, correctAnswer] of Object.entries(answers)) {
                    if (formData.get(question) === correctAnswer) {
                        score++;
                    }
                }
                
                const totalQuestions = Object.keys(answers).length;
                scoreElement.textContent = `${score} / ${totalQuestions}`;

                if (score === totalQuestions) {
                    feedbackElement.textContent = "Excellent! You've mastered the concepts.";
                    feedbackElement.className = "mt-4 text-lg text-green-500";
                } else if (score >= totalQuestions / 2) {
                    feedbackElement.textContent = "Good job! You have a solid understanding.";
                    feedbackElement.className = "mt-4 text-lg text-yellow-500";
                } else {
                    feedbackElement.textContent = "It might be helpful to review the slides again.";
                     feedbackElement.className = "mt-4 text-lg text-red-500";
                }
                
                quizForm.classList.add('hidden');
                quizResults.classList.remove('hidden');
                nextBtn.disabled = true; // Disable next button on results page
            });

            // Initial load
            showSlide(currentSlide);
        });
    </script>
</body>
</html>

